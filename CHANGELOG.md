# Changelog

このファイルには、このプロジェクトの主な変更を記録します。
ユーザー影響のある変更を優先して記載します。
形式は [Keep a Changelog](https://keepachangelog.com/ja/1.1.0/) を採用し、
バージョンは [Semantic Versioning](https://semver.org/lang/ja/) に従います。
運用ルールとテンプレート（比較リンクを含む）は `docs/ops/ReleaseNotes.md` を参照してください。

## [Unreleased]

### Added

- `Ctrl+Shift+V` でクリップボード内容を保存する常駐アプリを提供（ホットキーは設定で変更可能）。
- タスクトレイ運用を実装。左クリックで設定画面、右クリックで「設定 / スタートアップ設定を開く / 通知設定を開く / バージョン情報 / 終了」を提供。
- 同一ユーザー・同一セッションの多重起動を防止。起動中に再起動した場合は新規プロセスを終了し、既存インスタンスの設定画面を表示。
- 保存先の自動決定に対応（デスクトップがアクティブならデスクトップ、エクスプローラーがアクティブなら表示フォルダ）。
- コンテンツ自動判別を追加（優先度: 画像 -> CSV -> JSON -> Markdown -> テキスト）。画像とテキストが同時にある場合は画像のみ保存。
- 画像保存に対応（`.png` / `.jpg`）。透過画像を `.jpg` 保存する場合は白背景で合成。
- テキスト系保存に対応（`.txt` / `.md` / `.json` / `.csv`）。JSON は整形保存、CSV は Excel 互換の BOM 付き UTF-8 で保存。
- ファイル名ルールを提供（プレフィックス、タイムスタンプ `yyyyMMdd_HHmmss`、重複時サフィックス `_1`, `_2`, ...）。
- 通知制御を追加。アプリ側で「保存成功 / コンテンツなし / エラー」を個別に ON/OFF でき、通知全体は Windows 設定で管理。
- 初回起動時にスタートアップ設定の案内通知を表示。インストール直後の自動起動既定値は ON。
- UI 言語（日本語 / 英語）に対応。設定保存後、再起動なしで表示言語を反映。
- トラブル時の情報取得を強化。About 画面でバージョン情報を確認でき、未処理例外時はクラッシュダンプを出力。
- 保存対象外の状況（対象外ウィンドウ、仮想フォルダ、保存処理中の再トリガー、無効化された種別）は通知せず静かに無視する挙動を明確化。
